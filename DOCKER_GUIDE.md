# Руководство по запуску для новичков (Docker)

Это пошаговое руководство написано специально для тех, кто никогда не работал с Docker. Мы пройдем весь путь от установки до работающего сервера.

## Что такое Docker?

Представьте, что Docker — это "виртуальная коробка". В этой коробке уже лежит всё, что нужно для работы нашей программы (код, библиотеки, настройки). Вам не нужно ничего устанавливать на свой компьютер (кроме самого Docker), чтобы запустить эту коробку. Она будет работать одинаково на Windows, Mac или Linux.

---

## Шаг 1: Установка Docker Desktop

1.  Перейдите на официальный сайт: [https://www.docker.com/products/docker-desktop/](https://www.docker.com/products/docker-desktop/)
2.  Скачайте версию для вашей операционной системы (Windows или Mac).
3.  Запустите установщик и следуйте инструкциям (просто нажимайте "Next" и "Ok").
4.  **Важно:** После установки запустите приложение **Docker Desktop**. Вы увидите значок кита в панели задач. Это значит, что Docker работает.

---

## Шаг 2: Подготовка файлов

1.  Скачайте архив с проектом `retailcrm-mcp-server.tar.gz`, который я вам прислал.
2.  Распакуйте его в удобную папку. Например, создайте папку `mcp-server` на Рабочем столе и распакуйте файлы туда.
3.  В этой папке вы увидите файл `.env.example`.
4.  Сделайте копию этого файла и назовите её `.env` (просто `.env`, без `example`).
    *   *На Windows:* Если система скрывает расширения, файл может называться просто `.env`.
5.  Откройте файл `.env` в любом текстовом редакторе (Блокнот, Notepad++).
6.  Вставьте туда ваши данные:
    ```ini
    RETAILCRM_URL=https://ваш-магазин.retailcrm.ru
    RETAILCRM_API_KEY=ваш-api-ключ-из-настроек-crm
    ```
7.  Сохраните файл.

---

## Шаг 3: Запуск сервера

Теперь самое интересное. Нам нужно открыть "Терминал" (или командную строку) и выполнить одну команду.

### Для Windows:
1.  Откройте папку с проектом в Проводнике.
2.  В адресной строке сверху (где написан путь к папке) сотрите всё, напишите `cmd` и нажмите **Enter**. Откроется черное окно командной строки прямо в этой папке.

### Для Mac:
1.  Откройте приложение **Terminal**.
2.  Напишите `cd ` (с пробелом в конце) и перетащите папку с проектом прямо в окно терминала. Нажмите **Enter**.

### Команда запуска:

В терминале введите эту команду и нажмите Enter:

```bash
docker-compose up -d
```

**Что произойдет:**
1.  Docker начнет скачивать необходимые компоненты (это может занять пару минут в первый раз).
2.  Он соберет "коробку" с нашим сервером.
3.  Флаг `-d` означает "Detached" (в фоновом режиме). Это значит, что сервер запустится и вернет вам управление терминалом.

Если вы увидите зеленые надписи `Started` или `Running` — поздравляю! Ваш сервер работает.

---

## Шаг 4: Как проверить, что всё работает?

В терминале введите:

```bash
docker-compose logs -f
```

Вы должны увидеть строчку: `RetailCRM MCP Server v2.0 started`.
Чтобы выйти из просмотра логов, нажмите `Ctrl + C`.

---

## Шаг 5: Как использовать в n8n?

Теперь, когда сервер работает, он доступен по адресу `http://localhost:3000`.

В n8n вы можете использовать **HTTP Request** ноду:
*   **Method:** POST
*   **URL:** `http://host.docker.internal:3000/mcp` (если n8n тоже в докере) или `http://localhost:3000/mcp`
*   **Body:** JSON с вашим запросом.

---

## Полезные команды

*   **Остановить сервер:** `docker-compose down`
*   **Перезапустить сервер:** `docker-compose restart`
*   **Обновить сервер (если вы изменили код):** `docker-compose up -d --build`

Если у вас возникнут вопросы, просто напишите мне!
